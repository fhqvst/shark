import React, { Component } from 'react';
import { connect } from 'react-redux';
import Loader from '../components/Loader';
import InstrumentChart from '../components/InstrumentChart';

class Focus extends Component {
    
    render() {

        const instrument = this.props.instrument;
        const config = {
            series: [{
                data: instrument ? [[1375048800000,1250.54],[1375653600000,1253.79],[1376258400000,1255.02],[1376863200000,1243.82],[1377468000000,1214.35],[1378072800000,1249.05],[1378677600000,1265.97],[1379282400000,1285.78],[1379887200000,1269.48],[1380492000000,1251.39],[1381096800000,1266.39],[1381701600000,1283.90],[1382306400000,1290.63],[1382914800000,1278.42],[1383519600000,1281.86],[1384124400000,1295.93],[1384729200000,1297.87],[1385334000000,1307.71],[1385938800000,1274.63],[1386543600000,1255.71],[1387148400000,1309.92],[1387753200000,1334.42],[1388358000000,1325.12],[1388962800000,1329.84],[1389567600000,1350.10],[1390172400000,1318.53],[1390777200000,1304.45],[1391382000000,1313.20],[1391986800000,1335.89],[1392591600000,1349.12],[1393196400000,1369.13],[1393801200000,1358.36],[1394406000000,1326.82],[1395010800000,1351.43],[1395615600000,1346.48],[1396216800000,1369.69],[1396821600000,1344.12],[1397426400000,1341.56],[1398031200000,1360.35],[1398636000000,1360.19],[1399240800000,1354.34],[1399845600000,1382.14],[1400450400000,1392.28],[1401055200000,1402.08],[1401660000000,1391.20],[1402264800000,1390.15],[1402869600000,1386.04],[1403474400000,1379.02],[1404079200000,1399.94],[1404684000000,1362.35],[1405288800000,1387.37],[1405893600000,1404.12],[1406498400000,1361.44],[1407103200000,1331.56],[1407708000000,1352.98],[1408312800000,1382.72],[1408917600000,1388.89],[1409522400000,1388.39],[1410127200000,1388.59],[1410732000000,1421.48],[1411336800000,1396.20],[1411941600000,1369.52],[1412546400000,1302.34],[1413151200000,1310.46],[1413756000000,1358.57],[1414364400000,1412.84],[1414969200000,1410.88],[1415574000000,1415.60],[1416178800000,1447.53],[1416783600000,1461.34],[1417388400000,1474.70],[1417993200000,1425.86],[1418598000000,1452.36],[1419202800000,1470.49],[1419807600000,1463.78],[1420412400000,1444.46],[1421017200000,1468.90],[1421622000000,1536.39],[1422226800000,1573.62],[1422831600000,1599.55],[1423436400000,1642.04],[1424041200000,1664.33],[1424646000000,1691.03],[1425250800000,1662.55],[1425855600000,1665.13],[1426460400000,1710.87],[1427065200000,1662.56],[1427666400000,1675.52],[1428271200000,1699.96],[1428876000000,1655.72],[1429480800000,1698.51],[1430085600000,1628.04],[1430690400000,1616.45],[1431295200000,1616.48],[1431900000000,1648.46],[1432504800000,1644.99],[1433109600000,1606.46],[1433714400000,1597.33],[1434319200000,1562.43],[1434924000000,1608.26],[1435528800000,1553.60],[1436133600000,1590.54],[1436738400000,1635.47],[1437343200000,1612.80],[1437948000000,1615.64],[1438552800000,1612.28],[1439157600000,1586.83],[1439762400000,1495.36],[1440367200000,1509.71],[1440972000000,1461.46],[1441576800000,1488.41],[1442181600000,1453.11],[1442786400000,1418.47],[1443391200000,1412.86],[1443996000000,1483.74],[1444600800000,1452.36],[1445205600000,1506.59],[1445814000000,1499.23],[1446418800000,1526.49],[1447023600000,1476.21],[1447628400000,1521.87],[1448233200000,1522.00],[1448838000000,1485.32],[1449442800000,1401.14],[1450047600000,1422.63],[1450652400000,1446.69],[1451257200000,1446.82],[1451862000000,1348.76],[1452466800000,1305.24],[1453071600000,1361.36],[1453676400000,1356.32],[1454281200000,1330.11],[1454886000000,1286.67],[1455490800000,1355.95],[1456095600000,1370.80],[1456700400000,1403.77],[1457305200000,1418.39],[1457910000000,1391.38],[1458514800000,1345.34],[1459116000000,1358.22],[1459720800000,1364.94],[1460325600000,1381.33],[1460930400000,1396.37],[1461535200000,1360.71],[1462140000000,1309.17],[1462744800000,1323.18],[1463349600000,1342.68],[1463954400000,1376.50],[1464559200000,1345.44],[1465164000000,1315.06],[1465768800000,1298.38],[1466373600000,1360.73],[1466978400000,1340.26],[1467583200000,1326.21],[1468188000000,1372.80],[1468792800000,1377.47],[1469397600000,1386.66],[1470002400000,1363.38]] : []
            }]
        };

        return (
            <div className="focus__wrapper">
                { instrument ?
                    <div className="focus__content">

                        <div className="focus__top">
                            <h1 className="focus__title">
                                { instrument.name }
                                <span className="focus__ticker">{ instrument.ticker }</span>
                            </h1>
                            <div className="focus__actions">
                                <button className="button focus__buy">Buy</button>
                                <button className="button focus__sell">Sell</button>
                            </div>
                        </div>

                        <div className="focus__chart">
                            <InstrumentChart config={config} ref="chart" />
                        </div>

                        <div className="focus__items">
                            <div className="focus__item">
                                <div className="focus__placeholder">
                                    Orderbook
                                </div>
                            </div>
                            <div className="focus__item">
                                <div className="focus__placeholder">
                                    Latest trades
                                </div>
                            </div>
                            <div className="focus__item">
                                <div className="focus__placeholder">
                                    Instrument data
                                </div>
                            </div>
                            <div className="focus__item">
                                <div className="focus__placeholder">
                                    Broker data
                                </div>
                            </div>
                            <div className="focus__item">
                                <div className="focus__placeholder">
                                    Positions
                                </div>
                            </div>
                            <div className="focus__item">
                                <div className="focus__placeholder">
                                    Twitter feed
                                </div>
                            </div>
                        </div>

                    </div>
                    : <Loader />
                }
            </div>
        )
    }

}

const mapStateToProps = state => ({
    positions: state.positions,
    user: state.user
});

const mapDispatchToProps = (dispatch, ownProps) => ({
    dispatch
});

export default connect(
    mapStateToProps,
    mapDispatchToProps
)(Focus);